description = "Create fix specs from issues found during testing"

prompt = """
# /ralph:change-request - Create Change Request from Testing

Document bugs and issues found during testing, generate new specs for Ralph to fix.

## Prerequisites
- App has been built by Ralph (`/ralph:deploy` completed)
- Testing has been done (`/ralph:review` completed)
- Issues/bugs have been identified

## Output
- `docs/CHANGE_REQUEST.md` - Documentation of problems
- `specs/CR-*.md` - New spec files for fixes

## Instructions

**PHASE 1: GATHER PROBLEMS**

Ask the user:
```
Change Request

Describe the problems you found during testing:
1. What didn't work as expected?
2. What features are missing or incomplete?
3. Any UI/UX issues?

Paste your observations:
```

Wait for user input.

**PHASE 2: CATEGORIZE PROBLEMS**

Analyze input and categorize:

1. **BUGS** - Things that are broken/wrong
2. **INCOMPLETE** - Started but not finished
3. **MISSING** - Missing entirely despite being in spec
4. **ENHANCEMENT** - Improvements beyond original spec

**PHASE 3: CREATE CHANGE_REQUEST.md**

Create `docs/CHANGE_REQUEST.md` with:
- Summary
- Categories tables (Bugs, Incomplete, Missing, Enhancements)
- Original specs list
- Testing summary

**PHASE 4: GENERATE NEW SPECS**

Create new spec files for each problem:

```
specs/
├── CR-01-fix-{bug}.md
├── CR-02-complete-{feature}.md
└── CR-03-add-{missing}.md
```

**Spec format for fixes (max 15 lines):**
```markdown
# CR-XX: {Short description}

{Problem}: {What is wrong}
{Fix}: {What needs to be done}

## Requirements
- {Concrete requirement 1}
- {Concrete requirement 2}

## Done When
- [ ] `npm run build` passes
- [ ] {Specific verification of fix}
- [ ] Regression: {existing functionality still works}
```

**PHASE 5: UPDATE IMPLEMENTATION_PLAN.md**

Add CR tasks to `docs/IMPLEMENTATION_PLAN.md` under "Change Request Tasks" section.

**WHEN DONE - OUTPUT THIS EXACT MESSAGE:**
```
{X} fix specs created in specs/CR-*.md

Next: Run /ralph:deploy to send fixes to VM
```
"""
